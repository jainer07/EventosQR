@using static eventos_qr.Entity.Enums.Configuracion
@model VentaViewModel
@{
    ViewData["Title"] = "Detalle persona";
    var estadoNotifica = "NO";
    var estadoNotificaClase = "warning";
    var estadoVenta = "Pendiente";
    var estadoVentaClase = "info text-dark";

    if (Model.EnvioNotificacion == (int)TipoNotifiacion.Pendiente)
    {
        estadoNotifica = "Pendiente pago";
        estadoNotificaClase = "info text-dark";
    }
    else if (Model.EnvioNotificacion == (int)TipoNotifiacion.Entregado)
    {
        estadoNotifica = "Boletas entregadas";
        estadoNotificaClase = "success";
    }


    if (Model.EstadoVenta == (int)EstadoVenta.Aplicada)
    {
        estadoVenta = "Aplicada";
        estadoVentaClase = "success";
    }
    else if (Model.EstadoVenta == (int)EstadoVenta.Rechazada)
    {
        estadoVenta = "Rechazada";
        estadoVentaClase = "warning";
    }
    else if (Model.EstadoVenta == (int)EstadoVenta.Eliminada)
    {
        estadoVenta = "Eliminada";
        estadoVentaClase = "danger";
    }
}
<div class="container-fluid p-0">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header d-flex justify-content-between align-items-center">
                    <h5 class="card-title mb-0">Detalle persona</h5>
                    <div>
                        <a asp-action="Edit" asp-route-id="@Model.IdPersona" class="btn btn-warning">Editar</a>
                        <a asp-action="Index" class="btn btn-secondary">Volver</a>
                    </div>
                </div>
                <div class="card-body">
                    <dl class="row">
                        <dt class="col-sm-3">Código</dt>
                        <dd class="col-sm-9">@Model.IdVenta</dd>
                        <dt class="col-sm-3">Nombre evento</dt>
                        <dd class="col-sm-9">@Model.NombreEvento</dd>
                        <dt class="col-sm-3">Documento</dt>
                        <dd class="col-sm-9">@Model.NumeroDocumento</dd>
                        <dt class="col-sm-3">Cliente</dt>
                        <dd class="col-sm-9">@Model.NombrePersona</dd>
                        <dt class="col-sm-3">Celular</dt>
                        <dd class="col-sm-9">@Model.CelularPersona</dd>
                        <dt class="col-sm-3">Fecha venta</dt>
                        <dd class="col-sm-9">@Model.Fecha.ToString("yyyy-MM-ddTHH:mm")</dd>
                        <dt class="col-sm-3">Cantidad vendidas</dt>
                        <dd class="col-sm-9">@Model.Cantidad</dd>
                        <dt class="col-sm-3">Total venta</dt>
                        <dd class="col-sm-9">@Model.Total.ToString("N2")</dd>
                        <dt class="col-sm-3">Noficación enviada</dt>
                        <dd class="col-sm-9"><span class="badge bg-@estadoNotificaClase">@estadoNotifica</span></dd>
                        <dt class="col-sm-3">Estado</dt>
                        <dd class="col-sm-9"><span class="badge bg-@estadoVentaClase">@estadoVenta</span></dd>
                        <dt class="col-sm-3">Comprobante pago</dt>
                        <dd class="col-sm-9">@Model.ComprobantePago</dd>
                    </dl>
                    @if (Model.EstadoVenta == (int)EstadoVenta.Pendiente)
                    {
                        <a asp-action="Edit" asp-route-id="@Model.IdPersona" class="btn btn-warning"><i data-feather="edit"></i> Editar</a>
                        <a asp-action="Aplicar" asp-route-id="@Model.IdVenta" class="btn btn-success"><i data-feather="shopping-cart"></i> Aplicar</a>
                    }
                    <a asp-action="Index" class="btn btn-secondary"><i data-feather="arrow-left"></i> Volver</a>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script> if (window.feather?.replace) feather.replace(); </script>
}
